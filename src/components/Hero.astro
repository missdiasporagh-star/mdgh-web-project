---
import { ArrowRight, ChevronDown } from 'lucide-astro';
---

<section id="home" class="relative min-h-screen flex items-center overflow-hidden noise" style="min-height: 110vh; isolation: isolate;">
  <!-- Video Background (Mobile: Full Background, Desktop: Left Half) -->
  <div class="absolute inset-0 lg:w-1/2 lg:left-0 overflow-hidden" style="max-height: 100vh;">
    <video
      autoplay
      muted
      loop
      playsinline
      preload="metadata"
      class="absolute inset-0 w-full h-full object-cover scale-105 hover:scale-100 transition-transform duration-[3000ms]"
    >
      <source src="/assets/videos/mdgh intro vid.mp4" type="video/mp4" />
    </video>

    <!-- Mobile: No overlay (text has shadow), Desktop: Gradient to right -->
    <div class="absolute inset-0 bg-transparent lg:bg-gradient-to-r lg:from-black/20 lg:via-black/60 lg:to-black"></div>

    <!-- Floating Logo with Premium Glow -->
    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 hero-logo opacity-20 lg:opacity-100">
      <div class="relative">
        <!-- Glow Effect -->
        <div class="absolute inset-0 bg-[#F8B92F] opacity-20 blur-[100px] rounded-full"></div>
        <img
          src="/assets/images/logos/mdgh main logo mini.png"
          alt="MDGH"
          loading="lazy"
          decoding="async"
          class="relative w-32 h-32 lg:w-56 lg:h-56 opacity-15 animate-pulse"
        />
      </div>
    </div>
  </div>

  <!-- Content (Mobile: On top of video with text shadow, Desktop: Right Half) -->
  <div class="relative w-full lg:w-1/2 lg:ml-auto flex items-start justify-center px-6 sm:px-8 md:px-12 lg:px-16 xl:px-20 z-10" style="padding-top: 180px; background: linear-gradient(to right, rgba(0,0,0,0.8), #1a1a1a);">
    <div class="hero-content max-w-xl lg:max-w-2xl w-full space-y-5 sm:space-y-6 lg:space-y-7" style="margin-top: 80px;">
      <!-- Main Title with Premium Styling -->
      <div class="relative">
        <div class="space-y-1 sm:space-y-2 overflow-hidden">
          <h1 class="hero-title text-display text-3xl sm:text-4xl md:text-5xl lg:text-5xl xl:text-6xl font-black leading-[0.95]">
            <span class="block text-white hero-line-1">MISS</span>
            <span class="block text-white hero-line-2">DIASPORA</span>
            <span class="block bg-gradient-to-r from-[#F8B92F] via-[#FFD700] to-[#F8B92F] bg-clip-text text-transparent hero-line-3">
              GHANA
            </span>
          </h1>
        </div>
      </div>

      <!-- Tagline with Luxury Typography -->
      <div class="hero-desc overflow-hidden relative opacity-0">
        <div class="flex flex-wrap gap-x-2 sm:gap-x-3 gap-y-1 sm:gap-y-2 text-lg sm:text-xl md:text-2xl lg:text-xl xl:text-2xl text-heading text-white/90 lg:text-white/80 font-light leading-relaxed">
          <span class="hero-word inline-block">Celebrating</span>
          <span class="hero-word inline-block text-[#F8B92F] font-semibold">Beauty</span>
          <span class="hero-word inline-block">&</span>
          <span class="hero-word inline-block text-[#F8B92F] font-semibold">Culture</span>
          <span class="hero-word inline-block">&</span>
          <span class="hero-word inline-block text-[#F8B92F] font-semibold">Impact</span>
        </div>
        <!-- Subtle glow effect -->
        <div class="absolute inset-0 bg-[#F8B92F]/5 blur-3xl -z-10"></div>
      </div>

      <!-- Premium CTA Button -->
      <div class="hero-cta opacity-0">
        <a
          href="#about"
          class="group magnetic relative inline-flex items-center justify-center gap-3 px-8 sm:px-10 lg:px-12 py-4 sm:py-4.5 lg:py-5 bg-gradient-to-r from-[#F8B92F] to-[#FFD700] text-black font-bold text-base sm:text-lg lg:text-xl overflow-hidden rounded-full hover:shadow-2xl hover:shadow-[#F8B92F]/50 transition-all duration-500 hover:scale-105"
        >
          <span class="relative z-10 flex items-center gap-3">
            EXPLORE PAGEANT
            <ArrowRight class="w-5 h-5 sm:w-6 sm:h-6 group-hover:translate-x-2 transition-transform duration-300" />
          </span>
          <!-- Animated shine effect -->
          <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -skew-x-12 translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000"></div>
        </a>
      </div>
    </div>
  </div>

  <!-- Premium Scroll Indicator -->
  <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 lg:bottom-12 lg:left-auto lg:right-12 lg:translate-x-0 hero-scroll-indicator opacity-0">
    <div class="flex flex-col lg:flex-row items-center gap-4 lg:rotate-90 lg:origin-center">
      <span class="text-white/40 text-xs uppercase tracking-[0.3em] font-semibold">Scroll to explore</span>
      <div class="w-px h-16 lg:w-20 lg:h-px bg-gradient-to-b lg:bg-gradient-to-r from-transparent via-white/30 to-transparent"></div>
      <ChevronDown class="w-5 h-5 text-white/40 animate-bounce lg:hidden" />
    </div>
  </div>
</section>

<script>
  import { gsap } from 'gsap';

  // Premium entrance animation timeline
  const tl = gsap.timeline({ defaults: { ease: 'power4.out' } });

  // Title lines with dramatic entrance
  tl.to('.hero-line-1', {
    y: 0,
    opacity: 1,
    rotateX: 0,
    duration: 1.2,
    delay: 0.3,
  })
  .to('.hero-line-2', {
    y: 0,
    opacity: 1,
    rotateX: 0,
    duration: 1.2,
  }, '-=0.9')
  .to('.hero-line-3', {
    y: 0,
    opacity: 1,
    rotateX: 0,
    duration: 1.2,
  }, '-=0.9')

  // Description with staggered words
  .to('.hero-desc', {
    opacity: 1,
    duration: 0.8,
  }, '-=0.5')
  .from('.hero-word', {
    y: 30,
    opacity: 0,
    stagger: 0.04,
    duration: 0.6,
  }, '-=0.5')

  // CTAs
  .to('.hero-cta', {
    opacity: 1,
    y: 0,
    duration: 1,
  }, '-=0.4')

  // Scroll indicator
  .to('.hero-scroll-indicator', {
    opacity: 1,
    y: 0,
    duration: 1,
  }, '-=0.6');

  // Set initial states for animated elements
  gsap.set('.hero-line-1, .hero-line-2, .hero-line-3', {
    y: 150,
    opacity: 0,
    rotateX: 90,
  });

  gsap.set('.hero-cta, .hero-scroll-indicator', {
    opacity: 0,
    y: 30,
  });

  // Continuous subtle float animation for title
  gsap.to('.hero-title', {
    y: -8,
    duration: 3,
    ease: 'power1.inOut',
    yoyo: true,
    repeat: -1,
  });

  // Floating animation for logo
  gsap.to('.hero-logo', {
    y: -20,
    duration: 4,
    ease: 'power1.inOut',
    yoyo: true,
    repeat: -1,
  });
</script>

<style>
  /* Ensure hero takes full screen with extra space for stats */
  #home {
    min-height: 110vh;
    min-height: 110dvh;
  }

  /* On mobile, ensure proper sizing and readability */
  @media (max-width: 640px) {
    #home {
      min-height: 110vh;
    }

    /* Add strong text shadow on mobile for readability */
    .hero-content * {
      text-shadow: 0 2px 40px rgba(0, 0, 0, 0.95), 0 0 80px rgba(0, 0, 0, 0.9);
    }
  }

  /* Tablet adjustments */
  @media (min-width: 641px) and (max-width: 1023px) {
    #home {
      min-height: 110vh;
    }

    .hero-content * {
      text-shadow: 0 2px 30px rgba(0, 0, 0, 0.9), 0 0 60px rgba(0, 0, 0, 0.8);
    }
  }

  /* Title responsiveness */
  .hero-title span {
    display: block;
    will-change: transform;
  }

  /* Premium button hover effect */
  .magnetic {
    transition: transform 0.3s cubic-bezier(0.23, 1, 0.320, 1);
  }

  @media (min-width: 1024px) {
    .magnetic:hover {
      transform: translateY(-2px);
    }
  }
</style>
